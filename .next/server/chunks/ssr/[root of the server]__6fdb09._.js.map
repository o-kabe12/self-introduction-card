{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/okabemiyukisusumu/works/self-introduction-card/src/app/components/ThemeToggle.tsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport { useTheme } from \"next-themes\";\nimport { useEffect, useState } from \"react\";\n\nexport default function ThemeToggle() {\n  const { theme, setTheme } = useTheme();\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  if (!mounted) return null; // SSR時はレンダリングしない\n\n  return (\n    <button\n      onClick={() => setTheme(theme === \"dark\" ? \"light\" : \"dark\")}\n      className=\"hover:opacity-70 duration-300 absolute right-4 top-1/2 transform -translate-y-1/2\"\n    >\n      {theme === \"dark\" ? <Image src=\"/icon_light_mode.svg\" alt=\"Light mode icon\" width={24} height={24}/> : <Image src=\"/icon_dark_mode.svg\" alt=\"Dark mode icon\" width={24} height={24}/>}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,gJAAA,CAAA,WAAQ,AAAD;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,WAAW;IACb,GAAG,EAAE;IAEL,IAAI,CAAC,SAAS,OAAO,MAAM,iBAAiB;IAE5C,qBACE,8OAAC;QACC,SAAS,IAAM,SAAS,UAAU,SAAS,UAAU;QACrD,WAAU;kBAET,UAAU,uBAAS,8OAAC,6HAAA,CAAA,UAAK;YAAC,KAAI;YAAuB,KAAI;YAAkB,OAAO;YAAI,QAAQ;;;;;iCAAQ,8OAAC,6HAAA,CAAA,UAAK;YAAC,KAAI;YAAsB,KAAI;YAAiB,OAAO;YAAI,QAAQ;;;;;;;;;;;AAGtL"}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///Users/okabemiyukisusumu/works/self-introduction-card/src/app/components/Header.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport ThemeToggle from \"./ThemeToggle\";\nimport { usePathname } from \"next/navigation\";\n\nexport default function Header() {\n  const pathname = usePathname();\n\n  return (\n    <header className=\"flex justify-between p-4 bg-gray-100 dark:bg-gray-900 dark:text-white transition-colors relative\">\n      <nav className=\"flex justify-between items-center w-4/5 md:w-11/12 mx-auto\">\n        {pathname === \"/\" && \n          <>\n            <h1>TOP</h1>\n            <Link href=\"/mypage/\" className=\"bg-blue-500 text-white p-2 rounded hover:opacity-70\">\n              マイページへ\n            </Link>\n          </>\n        }\n        {pathname === \"/mypage\" && \n          <>\n            <h1>マイページ</h1>\n            <Link href=\"/\" className=\"bg-blue-500 text-white p-2 rounded hover:opacity-70\">← 戻る</Link>\n          </>\n        }\n        <ThemeToggle />\n      </nav>\n    </header>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAE3B,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;gBACZ,aAAa,qBACZ;;sCACE,8OAAC;sCAAG;;;;;;sCACJ,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;4BAAW,WAAU;sCAAsD;;;;;;;;gBAKzF,aAAa,2BACZ;;sCACE,8OAAC;sCAAG;;;;;;sCACJ,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;4BAAI,WAAU;sCAAsD;;;;;;;;8BAGnF,8OAAC,wIAAA,CAAA,UAAW;;;;;;;;;;;;;;;;AAIpB"}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///Users/okabemiyukisusumu/works/self-introduction-card/src/app/components/Layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { ThemeProvider } from \"next-themes\";\nimport { ReactNode } from \"react\";\nimport Header from \"./Header\";\n\ninterface LayoutProps {\n  children: ReactNode;\n}\n\nexport default function Layout({ children }: LayoutProps) {\n  return (\n    <ThemeProvider attribute=\"class\">\n      <div className=\"min-h-screen bg-white text-black dark:bg-black dark:text-white transition-colors\">\n        <Header />\n        {children}\n      </div>\n    </ThemeProvider>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;AAJA;;;;AAUe,SAAS,OAAO,EAAE,QAAQ,EAAe;IACtD,qBACE,8OAAC,gJAAA,CAAA,gBAAa;QAAC,WAAU;kBACvB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,mIAAA,CAAA,UAAM;;;;;gBACN;;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"sources":["file:///Users/okabemiyukisusumu/works/self-introduction-card/src/app/lib/supabaseClient.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa"}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///Users/okabemiyukisusumu/works/self-introduction-card/src/app/components/test.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { User } from \"@supabase/auth-helpers-nextjs\";\nimport { createClientComponentClient } from \"@supabase/auth-helpers-nextjs\";\n\nconst TestComponent = () => {\n    const supabase = createClientComponentClient();\n    const [user, setUser] = useState<User | null>(null);\n\n    const planA = ()=>{\n      supabase.auth.getSession().then(({ data: { session } }) => {\n        setUser(session?.user || null);\n        console.log(session);\n      });\n    \n      const { data: authListener } = supabase.auth.onAuthStateChange((_event, session) => {\n        setUser(session?.user || null);\n        console.log(session)\n        console.log('test')\n      });\n    \n      return () => {\n        authListener?.subscription.unsubscribe();\n      };\n    }\n\n    return (\n      <>\n        <div>{user ? `ログイン中: ${user.email}` : \"未ログイン\"}</div>\n        <button onClick={planA}>押してくれ</button>\n      </>\n\n    );\n};\n\nexport default TestComponent;"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,gBAAgB;IAClB,MAAM,WAAW,CAAA,GAAA,wKAAA,CAAA,8BAA2B,AAAD;IAC3C,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAE9C,MAAM,QAAQ;QACZ,SAAS,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE;YACpD,QAAQ,SAAS,QAAQ;YACzB,QAAQ,GAAG,CAAC;QACd;QAEA,MAAM,EAAE,MAAM,YAAY,EAAE,GAAG,SAAS,IAAI,CAAC,iBAAiB,CAAC,CAAC,QAAQ;YACtE,QAAQ,SAAS,QAAQ;YACzB,QAAQ,GAAG,CAAC;YACZ,QAAQ,GAAG,CAAC;QACd;QAEA,OAAO;YACL,cAAc,aAAa;QAC7B;IACF;IAEA,qBACE;;0BACE,8OAAC;0BAAK,OAAO,CAAC,OAAO,EAAE,KAAK,KAAK,EAAE,GAAG;;;;;;0BACtC,8OAAC;gBAAO,SAAS;0BAAO;;;;;;;;AAIhC;uCAEe"}},
    {"offset": {"line": 339, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 345, "column": 0}, "map": {"version":3,"sources":["file:///Users/okabemiyukisusumu/works/self-introduction-card/src/app/mypage/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState,} from 'react';\nimport Image from 'next/image';\nimport Layout from '../components/Layout';\nimport { supabase } from \"../lib/supabaseClient\";\nimport TestComponent from '../components/test';\n\nexport default function MyPage() {\n  const [userData, setUserData] = useState({\n    name: \"\",\n    job: \"\",\n    language: \"\",\n    hobby: \"\",\n    bio: \"\",\n    x_link: \"\",\n    github_link: \"\",\n    icon_url: \"\",\n  });\n\n  const [loading, setLoading] = useState(false);\n\n  // useEffect(() => {\n  //   const fetchUserData = async () => {\n  //     setLoading(true);\n  //     const { data, error } = await supabase.auth.getUser();\n  \n  //     if (error) {\n  //       console.error(\"認証エラー:\", error.message);\n  //     }\n  \n  //     if (!data?.user) {\n  //       console.log(\"❌ ユーザーが取得できません\");\n  //       setLoading(false);\n  //       return;\n  //     }\n  \n  //     const { data: userData, error: fetchError } = await supabase\n  //       .from(\"users\")\n  //       .select(\"*\")\n  //       .eq(\"id\", data.user.id)\n  //       .single();\n  \n  //     if (fetchError) {\n  //       console.error(\"データ取得エラー:\", fetchError.message);\n  //     } else {\n  //       setUserData(userData);\n  //     }\n  \n  //     setLoading(false);\n  //   };\n  \n  //   fetchUserData();\n  // }, []);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    setUserData({ ...userData, [e.target.name]: e.target.value });\n  };\n\n  const handleFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    setLoading(true);\n\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) {\n      alert(\"ログインしてください\");\n      setLoading(false);\n      return;\n    }\n\n    const fileExt = file.name.split('.').pop();\n    const filePath = `${user.id}/icon.${fileExt}`;\n    \n    const { error } = await supabase.storage.from(\"icons\").upload(filePath, file, { upsert: true });\n    \n    if (error) {\n      console.error(\"アップロードエラー:\", error.message);\n      alert(\"アイコンのアップロードに失敗しました\");\n    } else {\n      const url = `${process.env.NEXT_PUBLIC_SUPABASE_URL}/storage/v1/object/public/icons/${filePath}`;\n      setUserData((prev) => ({ ...prev, icon_url: url }));\n    }\n\n    setLoading(false);\n  };\n\n  const handleUpdate = async () => {\n    setLoading(true);\n    const { data: { user } } = await supabase.auth.getUser();\n\n    if (!user) {\n      alert(\"ログインしてください\");\n      setLoading(false);\n      return;\n    }\n\n    const { error } = await supabase\n      .from(\"users\")\n      .upsert({ id: user.id, ...userData }, { onConflict: \"id\" });\n      \n    if (error) {\n      console.error(\"更新エラー:\", error.message);\n      alert(\"データ更新に失敗しました\");\n    } else {\n      alert(\"データを保存しました！\");\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <Layout>\n      <div className=\"max-w-2xl mx-auto p-6\">\n        <main>\n          <TestComponent/>\n          <h1 className=\"text-xl font-bold mb-4\">マイページ</h1>\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block font-medium\">名前</label>\n              <input name=\"name\" value={userData.name} onChange={handleChange} className=\"border p-2 w-full\" />\n            </div>\n            <div>\n              <label className=\"block font-medium\">アイコン</label>\n              <input type=\"file\" onChange={handleFileChange} className=\"border p-2 w-full\" />\n              {userData.icon_url && <Image src={userData.icon_url} width={50} height={50} alt=\"icon\" />}\n            </div>\n            <div>\n              <label className=\"block font-medium\">職業・職種</label>\n              <input name=\"job\" value={userData.job} onChange={handleChange} className=\"border p-2 w-full\" />\n            </div>\n            <div>\n              <label className=\"block font-medium\">得意な言語</label>\n              <input name=\"language\" value={userData.language} onChange={handleChange} className=\"border p-2 w-full\" />\n            </div>\n            <div>\n              <label className=\"block font-medium\">趣味</label>\n              <input name=\"hobby\" value={userData.hobby} onChange={handleChange} className=\"border p-2 w-full\" />\n            </div>\n            <div>\n              <label className=\"block font-medium\">自己紹介文</label>\n              <textarea name=\"bio\" value={userData.bio} onChange={handleChange} className=\"border p-2 w-full\" rows={3} />\n            </div>\n            <div>\n              <label className=\"block font-medium\">SNSアカウント</label>\n              <input name=\"x_link\" value={userData.x_link} placeholder=\"Xのリンク\" onChange={handleChange} className=\"border p-2 w-full\" />\n              <input name=\"github_link\" value={userData.github_link} placeholder=\"GitHubのリンク\" onChange={handleChange} className=\"border p-2 w-full mt-2\" />\n            </div>\n            <div>\n              <button onClick={handleUpdate} className=\"bg-blue-500 text-white p-2 rounded hover:opacity-70 duration-300\" disabled={loading}>\n                {loading ? \"更新中...\" : \"更新\"}\n              </button>\n            </div>\n          </div>\n        </main>\n      </div>\n    </Layout>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QACvC,MAAM;QACN,KAAK;QACL,UAAU;QACV,OAAO;QACP,KAAK;QACL,QAAQ;QACR,aAAa;QACb,UAAU;IACZ;IAEA,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,oBAAoB;IACpB,wCAAwC;IACxC,wBAAwB;IACxB,6DAA6D;IAE7D,mBAAmB;IACnB,gDAAgD;IAChD,QAAQ;IAER,yBAAyB;IACzB,uCAAuC;IACvC,2BAA2B;IAC3B,gBAAgB;IAChB,QAAQ;IAER,mEAAmE;IACnE,uBAAuB;IACvB,qBAAqB;IACrB,gCAAgC;IAChC,mBAAmB;IAEnB,wBAAwB;IACxB,wDAAwD;IACxD,eAAe;IACf,+BAA+B;IAC/B,QAAQ;IAER,yBAAyB;IACzB,OAAO;IAEP,qBAAqB;IACrB,UAAU;IAEV,MAAM,eAAe,CAAC;QACpB,YAAY;YAAE,GAAG,QAAQ;YAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QAAC;IAC7D;IAEA,MAAM,mBAAmB,OAAO;QAC9B,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,CAAC,MAAM;QACX,WAAW;QAEX,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,mIAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM;YACT,MAAM;YACN,WAAW;YACX;QACF;QAEA,MAAM,UAAU,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG;QACxC,MAAM,WAAW,GAAG,KAAK,EAAE,CAAC,MAAM,EAAE,SAAS;QAE7C,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,mIAAA,CAAA,WAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,MAAM,CAAC,UAAU,MAAM;YAAE,QAAQ;QAAK;QAE7F,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,cAAc,MAAM,OAAO;YACzC,MAAM;QACR,OAAO;YACL,MAAM,MAAM,gFAAwC,gCAAgC,EAAE,UAAU;YAChG,YAAY,CAAC,OAAS,CAAC;oBAAE,GAAG,IAAI;oBAAE,UAAU;gBAAI,CAAC;QACnD;QAEA,WAAW;IACb;IAEA,MAAM,eAAe;QACnB,WAAW;QACX,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,mIAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,OAAO;QAEtD,IAAI,CAAC,MAAM;YACT,MAAM;YACN,WAAW;YACX;QACF;QAEA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,mIAAA,CAAA,WAAQ,CAC7B,IAAI,CAAC,SACL,MAAM,CAAC;YAAE,IAAI,KAAK,EAAE;YAAE,GAAG,QAAQ;QAAC,GAAG;YAAE,YAAY;QAAK;QAE3D,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,UAAU,MAAM,OAAO;YACrC,MAAM;QACR,OAAO;YACL,MAAM;QACR;QAEA,WAAW;IACb;IAEA,qBACE,8OAAC,mIAAA,CAAA,UAAM;kBACL,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;;kCACC,8OAAC,iIAAA,CAAA,UAAa;;;;;kCACd,8OAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;kDACC,8OAAC;wCAAM,WAAU;kDAAoB;;;;;;kDACrC,8OAAC;wCAAM,MAAK;wCAAO,OAAO,SAAS,IAAI;wCAAE,UAAU;wCAAc,WAAU;;;;;;;;;;;;0CAE7E,8OAAC;;kDACC,8OAAC;wCAAM,WAAU;kDAAoB;;;;;;kDACrC,8OAAC;wCAAM,MAAK;wCAAO,UAAU;wCAAkB,WAAU;;;;;;oCACxD,SAAS,QAAQ,kBAAI,8OAAC,6HAAA,CAAA,UAAK;wCAAC,KAAK,SAAS,QAAQ;wCAAE,OAAO;wCAAI,QAAQ;wCAAI,KAAI;;;;;;;;;;;;0CAElF,8OAAC;;kDACC,8OAAC;wCAAM,WAAU;kDAAoB;;;;;;kDACrC,8OAAC;wCAAM,MAAK;wCAAM,OAAO,SAAS,GAAG;wCAAE,UAAU;wCAAc,WAAU;;;;;;;;;;;;0CAE3E,8OAAC;;kDACC,8OAAC;wCAAM,WAAU;kDAAoB;;;;;;kDACrC,8OAAC;wCAAM,MAAK;wCAAW,OAAO,SAAS,QAAQ;wCAAE,UAAU;wCAAc,WAAU;;;;;;;;;;;;0CAErF,8OAAC;;kDACC,8OAAC;wCAAM,WAAU;kDAAoB;;;;;;kDACrC,8OAAC;wCAAM,MAAK;wCAAQ,OAAO,SAAS,KAAK;wCAAE,UAAU;wCAAc,WAAU;;;;;;;;;;;;0CAE/E,8OAAC;;kDACC,8OAAC;wCAAM,WAAU;kDAAoB;;;;;;kDACrC,8OAAC;wCAAS,MAAK;wCAAM,OAAO,SAAS,GAAG;wCAAE,UAAU;wCAAc,WAAU;wCAAoB,MAAM;;;;;;;;;;;;0CAExG,8OAAC;;kDACC,8OAAC;wCAAM,WAAU;kDAAoB;;;;;;kDACrC,8OAAC;wCAAM,MAAK;wCAAS,OAAO,SAAS,MAAM;wCAAE,aAAY;wCAAQ,UAAU;wCAAc,WAAU;;;;;;kDACnG,8OAAC;wCAAM,MAAK;wCAAc,OAAO,SAAS,WAAW;wCAAE,aAAY;wCAAa,UAAU;wCAAc,WAAU;;;;;;;;;;;;0CAEpH,8OAAC;0CACC,cAAA,8OAAC;oCAAO,SAAS;oCAAc,WAAU;oCAAmE,UAAU;8CACnH,UAAU,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQtC"}},
    {"offset": {"line": 718, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}